<!DOCTYPE HTML>
<html>

<head>
  <style>
    #torre1,
    #torre2,
    #torre3 {
      width: 90px;
      height: 200px;
      margin: 50px;
      padding: 10px;
    }

    .content {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      border: 1px solid;
    }

    .inicial {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      border: 1px solid;
    }
  </style>


</head>

<body>
  <button onclick="torre()">TESTE</button>

  <h2>Drag and Drop</h2>
  <p>Drag the image back and forth between the two div elements.</p>

  <div class="inicial">
    <div id="torre1" class="content" ondrop="drop(event)" ondragover="allowDrop(event)">
      <p draggable="true" ondragstart="drag(event)" class="1" id="1">verde</p>
      <p draggable="true" ondragstart="drag(event)" class="2" id="2">azul</p>
      <p draggable="true" ondragstart="drag(event)" class="3" id="3">amarelo</p>
    </div>

    <div id="torre2" class="content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

    <div id="torre3" class="content" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
  </div>
</body>

<script>
  let valor, mov;
  let t1 = new Array();
  let t2 = new Array();
  let t3 = new Array();

  var torre1 = document.getElementById("torre1").childNodes;
  var torre2 = document.getElementById("torre2").childNodes;
  var torre3 = document.getElementById("torre3").childNodes;
  torre();

  function allowDrop(ev) {
    ev.preventDefault();
  }

  function drag(ev) {
    ev.dataTransfer.setData("text", ev.target.id);
    mov = ev.target.id
    console.log(mov)
  }

  function drop(ev) {
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    ev.target.appendChild(document.getElementById(data));

    torre();
  }

  function torre() {

    for (var i = 0; i < 10; i++) {
      if (torre1[i]) {
        torre1[i].className == undefined ? '' : t1.push(torre1[i].className)
      }

      if (torre2[i]) {
        torre2[i].className == undefined ? '' : t2.push(torre2[i].className)
      }

      if (torre3[i]) {
        torre3[i].className == undefined ? '' : t3.push(torre3[i].className)
      }
    }

    console.log(t1)
    console.log(t2)
    console.log(t3)
  }
</script>

</html>